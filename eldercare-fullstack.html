<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ElderCare AI - Enterprise Platform</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/recharts@2.5.0/dist/Recharts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        .scrollbar-thin::-webkit-scrollbar { width: 6px; }
        .scrollbar-thin::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 3px; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useRef, useCallback, useMemo } = React;
        const { LineChart, Line, AreaChart, Area, BarChart, Bar, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } = Recharts;

        // ================================================================================
        // BACKEND SIMULATION - This would be your actual NestJS backend
        // ================================================================================
        
        class BackendAPI {
            constructor() {
                this.baseURL = 'http://localhost:3000/api';
                this.token = localStorage.getItem('token');
                this.wsConnection = null;
                
                // Initialize mock database
                this.initializeDatabase();
                
                // Initialize ML models
                this.initializeMLModels();
            }

            // Database Schema (Prisma equivalent)
            initializeDatabase() {
                this.db = {
                    users: [
                        { id: '1', email: 'admin@eldercare.com', password: 'hashed_password', role: 'ADMIN', mfaEnabled: true },
                        { id: '2', email: 'caregiver@eldercare.com', password: 'hashed_password', role: 'CAREGIVER' },
                        { id: '3', email: 'clinician@eldercare.com', password: 'hashed_password', role: 'CLINICIAN' }
                    ],
                    elders: [
                        { 
                            id: 'e1', 
                            name: 'Margaret Smith', 
                            age: 78, 
                            conditions: ['Diabetes', 'Hypertension'],
                            riskScore: 0.65,
                            fallRisk: 0.72,
                            medicationAdherence: 0.91,
                            devices: ['d1', 'd2'],
                            vitals: {
                                heartRate: 72,
                                bloodPressure: '130/85',
                                glucose: 110,
                                temperature: 98.6,
                                oxygenSaturation: 96
                            }
                        },
                        { 
                            id: 'e2', 
                            name: 'John Wilson', 
                            age: 82, 
                            conditions: ['Alzheimer\'s'],
                            riskScore: 0.83,
                            fallRisk: 0.89,
                            medicationAdherence: 0.76,
                            devices: ['d3'],
                            vitals: {
                                heartRate: 68,
                                bloodPressure: '140/90',
                                glucose: 125,
                                temperature: 98.2,
                                oxygenSaturation: 95
                            }
                        }
                    ],
                    devices: [
                        { id: 'd1', type: 'WEARABLE', serialNumber: 'WR-001', status: 'ONLINE', battery: 85, elderId: 'e1' },
                        { id: 'd2', type: 'CAMERA', serialNumber: 'CM-045', status: 'ONLINE', battery: 100, elderId: 'e1' },
                        { id: 'd3', type: 'PILL_DISPENSER', serialNumber: 'PD-012', status: 'LOW_BATTERY', battery: 15, elderId: 'e2' }
                    ],
                    alerts: [],
                    medications: [
                        { id: 'm1', name: 'Metformin', dosage: '500mg', frequency: 'Twice daily', elderId: 'e1' },
                        { id: 'm2', name: 'Lisinopril', dosage: '10mg', frequency: 'Once daily', elderId: 'e1' },
                        { id: 'm3', name: 'Donepezil', dosage: '5mg', frequency: 'Once daily', elderId: 'e2' }
                    ],
                    auditLogs: []
                };
            }

            // Machine Learning Models
            async initializeMLModels() {
                // Fall Detection Model (TensorFlow.js)
                this.fallDetectionModel = await this.createFallDetectionModel();
                
                // Anomaly Detection Model
                this.anomalyDetectionModel = await this.createAnomalyDetectionModel();
                
                // NLP Model for report generation
                this.nlpModel = this.initializeNLPModel();
            }

            async createFallDetectionModel() {
                const model = tf.sequential({
                    layers: [
                        tf.layers.dense({ inputShape: [10], units: 64, activation: 'relu' }),
                        tf.layers.dropout({ rate: 0.2 }),
                        tf.layers.dense({ units: 32, activation: 'relu' }),
                        tf.layers.dense({ units: 16, activation: 'relu' }),
                        tf.layers.dense({ units: 1, activation: 'sigmoid' })
                    ]
                });

                model.compile({
                    optimizer: tf.train.adam(0.001),
                    loss: 'binaryCrossentropy',
                    metrics: ['accuracy']
                });

                return model;
            }

            async createAnomalyDetectionModel() {
                // Autoencoder for anomaly detection
                const encoder = tf.sequential({
                    layers: [
                        tf.layers.dense({ inputShape: [8], units: 16, activation: 'relu' }),
                        tf.layers.dense({ units: 8, activation: 'relu' }),
                        tf.layers.dense({ units: 4, activation: 'relu' })
                    ]
                });

                const decoder = tf.sequential({
                    layers: [
                        tf.layers.dense({ inputShape: [4], units: 8, activation: 'relu' }),
                        tf.layers.dense({ units: 16, activation: 'relu' }),
                        tf.layers.dense({ units: 8, activation: 'sigmoid' })
                    ]
                });

                return { encoder, decoder };
            }

            initializeNLPModel() {
                // Simplified NLP for report generation
                return {
                    generateReport: async (elderData) => {
                        const report = {
                            summary: `Patient ${elderData.name} shows ${elderData.riskScore > 0.7 ? 'high' : 'moderate'} overall risk.`,
                            vitals: `Current vitals: HR ${elderData.vitals.heartRate}, BP ${elderData.vitals.bloodPressure}, O2 ${elderData.vitals.oxygenSaturation}%`,
                            medications: `Medication adherence at ${(elderData.medicationAdherence * 100).toFixed(0)}%`,
                            recommendations: this.generateRecommendations(elderData),
                            alerts: `Fall risk assessment: ${(elderData.fallRisk * 100).toFixed(0)}% probability in next 48 hours`
                        };
                        return report;
                    },
                    
                    generateRecommendations: (elderData) => {
                        const recommendations = [];
                        if (elderData.fallRisk > 0.8) {
                            recommendations.push('• Immediate fall prevention measures required');
                            recommendations.push('• Consider mobility assistance device');
                        }
                        if (elderData.medicationAdherence < 0.8) {
                            recommendations.push('• Review medication schedule with patient');
                            recommendations.push('• Consider automated pill dispenser upgrade');
                        }
                        if (elderData.vitals.bloodPressure.split('/')[0] > 140) {
                            recommendations.push('• Monitor blood pressure closely');
                            recommendations.push('• Schedule cardiovascular assessment');
                        }
                        return recommendations;
                    }
                };
            }

            // Authentication & Security
            async authenticate(email, password, mfaCode = null) {
                const user = this.db.users.find(u => u.email === email);
                
                if (!user) {
                    throw new Error('Invalid credentials');
                }

                // Simulate password verification
                if (password !== 'demo123') {
                    throw new Error('Invalid credentials');
                }

                // Handle MFA
                if (user.mfaEnabled && !mfaCode) {
                    return { requiresMFA: true, sessionId: this.generateSessionId() };
                }

                if (user.mfaEnabled && mfaCode !== '123456') {
                    throw new Error('Invalid MFA code');
                }

                // Generate JWT token
                const token = this.generateJWT(user);
                
                // Log audit event
                this.logAuditEvent({
                    action: 'LOGIN',
                    userId: user.id,
                    timestamp: new Date(),
                    ip: '192.168.1.1'
                });

                return { token, user: { id: user.id, email: user.email, role: user.role } };
            }

            generateJWT(user) {
                // In production, use proper JWT library
                return btoa(JSON.stringify({
                    userId: user.id,
                    email: user.email,
                    role: user.role,
                    exp: Date.now() + 86400000 // 24 hours
                }));
            }

            generateSessionId() {
                return 'session_' + Math.random().toString(36).substr(2, 9);
            }

            // Real-time WebSocket Connection
            connectWebSocket(onAlert) {
                // Simulate WebSocket connection
                this.wsConnection = {
                    on: (event, callback) => {
                        if (event === 'alert') {
                            // Simulate random alerts
                            setInterval(() => {
                                const alert = this.generateRandomAlert();
                                callback(alert);
                            }, 10000);
                        }
                    },
                    emit: (event, data) => {
                        console.log('WS Emit:', event, data);
                    }
                };
                return this.wsConnection;
            }

            generateRandomAlert() {
                const types = ['FALL', 'MEDICATION_MISSED', 'ABNORMAL_VITALS', 'DEVICE_OFFLINE', 'INACTIVITY'];
                const severities = ['CRITICAL', 'HIGH', 'MEDIUM', 'LOW'];
                const elder = this.db.elders[Math.floor(Math.random() * this.db.elders.length)];
                
                const alert = {
                    id: 'alert_' + Date.now(),
                    type: types[Math.floor(Math.random() * types.length)],
                    severity: severities[Math.floor(Math.random() * severities.length)],
                    elderId: elder.id,
                    elderName: elder.name,
                    message: `Alert for ${elder.name}`,
                    timestamp: new Date(),
                    resolved: false
                };

                this.db.alerts.push(alert);
                return alert;
            }

            // ML Predictions
            async predictFallRisk(sensorData) {
                // Normalize sensor data
                const input = tf.tensor2d([sensorData], [1, 10]);
                
                // Run prediction
                const prediction = await this.fallDetectionModel.predict(input).data();
                
                // Clean up tensors
                input.dispose();
                
                return prediction[0];
            }

            async detectAnomalies(vitalSigns) {
                const input = tf.tensor2d([vitalSigns], [1, 8]);
                
                // Encode
                const encoded = this.anomalyDetectionModel.encoder.predict(input);
                
                // Decode
                const decoded = this.anomalyDetectionModel.decoder.predict(encoded);
                
                // Calculate reconstruction error
                const error = tf.losses.meanSquaredError(input, decoded);
                const errorValue = await error.data();
                
                // Clean up
                input.dispose();
                encoded.dispose();
                decoded.dispose();
                error.dispose();
                
                // Threshold for anomaly
                return errorValue[0] > 0.1;
            }

            // API Endpoints
            async getElders() {
                return this.db.elders;
            }

            async getElder(id) {
                return this.db.elders.find(e => e.id === id);
            }

            async updateElder(id, data) {
                const index = this.db.elders.findIndex(e => e.id === id);
                if (index !== -1) {
                    this.db.elders[index] = { ...this.db.elders[index], ...data };
                    this.logAuditEvent({
                        action: 'UPDATE_ELDER',
                        targetId: id,
                        changes: data,
                        timestamp: new Date()
                    });
                }
                return this.db.elders[index];
            }

            async getDevices() {
                return this.db.devices;
            }

            async updateDevice(id, data) {
                const index = this.db.devices.findIndex(d => d.id === id);
                if (index !== -1) {
                    this.db.devices[index] = { ...this.db.devices[index], ...data };
                }
                return this.db.devices[index];
            }

            async getAlerts(filters = {}) {
                let alerts = [...this.db.alerts];
                
                if (filters.resolved !== undefined) {
                    alerts = alerts.filter(a => a.resolved === filters.resolved);
                }
                
                if (filters.severity) {
                    alerts = alerts.filter(a => a.severity === filters.severity);
                }
                
                return alerts.sort((a, b) => b.timestamp - a.timestamp);
            }

            async resolveAlert(id) {
                const alert = this.db.alerts.find(a => a.id === id);
                if (alert) {
                    alert.resolved = true;
                    alert.resolvedAt = new Date();
                    
                    this.logAuditEvent({
                        action: 'RESOLVE_ALERT',
                        targetId: id,
                        timestamp: new Date()
                    });
                }
                return alert;
            }

            async generateClinicalReport(elderId) {
                const elder = await this.getElder(elderId);
                const report = await this.nlpModel.generateReport(elder);
                
                return {
                    id: 'report_' + Date.now(),
                    elderId,
                    elderName: elder.name,
                    generatedAt: new Date(),
                    content: report,
                    format: 'PDF'
                };
            }

            // Third-party integrations
            async processStripePayment(paymentData) {
                // Simulate Stripe API call
                return {
                    success: true,
                    paymentIntentId: 'pi_' + Math.random().toString(36).substr(2, 9),
                    amount: paymentData.amount,
                    currency: 'usd',
                    status: 'succeeded'
                };
            }

            async sendTwilioSMS(phoneNumber, message) {
                // Simulate Twilio API call
                console.log(`SMS to ${phoneNumber}: ${message}`);
                return {
                    success: true,
                    messageId: 'msg_' + Math.random().toString(36).substr(2, 9)
                };
            }

            async sendSendGridEmail(to, subject, body) {
                // Simulate SendGrid API call
                console.log(`Email to ${to}: ${subject}`);
                return {
                    success: true,
                    messageId: 'email_' + Math.random().toString(36).substr(2, 9)
                };
            }

            // Audit & Compliance
            logAuditEvent(event) {
                this.db.auditLogs.push({
                    id: 'audit_' + Date.now(),
                    ...event,
                    encrypted: this.encryptSensitiveData(event)
                });
            }

            encryptSensitiveData(data) {
                // Simulate encryption (in production, use proper encryption)
                return btoa(JSON.stringify(data));
            }

            async getAuditLogs(filters = {}) {
                let logs = [...this.db.auditLogs];
                
                if (filters.startDate) {
                    logs = logs.filter(l => l.timestamp >= filters.startDate);
                }
                
                if (filters.endDate) {
                    logs = logs.filter(l => l.timestamp <= filters.endDate);
                }
                
                return logs.sort((a, b) => b.timestamp - a.timestamp);
            }

            // Analytics
            async getAnalytics(dateRange) {
                // Generate mock analytics data
                return {
                    totalElders: this.db.elders.length,
                    activeAlerts: this.db.alerts.filter(a => !a.resolved).length,
                    averageFallRisk: this.db.elders.reduce((acc, e) => acc + e.fallRisk, 0) / this.db.elders.length,
                    medicationAdherence: this.db.elders.reduce((acc, e) => acc + e.medicationAdherence, 0) / this.db.elders.length,
                    deviceUptime: 0.956,
                    monthlyTrends: this.generateMonthlyTrends()
                };
            }

            generateMonthlyTrends() {
                const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];
                return months.map(month => ({
                    month,
                    alerts: Math.floor(Math.random() * 100) + 50,
                    falls: Math.floor(Math.random() * 20) + 5,
                    adherence: Math.random() * 0.2 + 0.8
                }));
            }
        }

        // ================================================================================
        // FRONTEND APPLICATION
        // ================================================================================

        const ElderCareApp = () => {
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(false);
            const [currentView, setCurrentView] = useState('dashboard');
            const [alerts, setAlerts] = useState([]);
            const [elders, setElders] = useState([]);
            const [devices, setDevices] = useState([]);
            const [analytics, setAnalytics] = useState(null);
            const [requiresMFA, setRequiresMFA] = useState(false);
            const [sessionId, setSessionId] = useState(null);
            
            const api = useRef(new BackendAPI());
            const ws = useRef(null);

            // Initialize WebSocket connection
            useEffect(() => {
                if (isAuthenticated) {
                    ws.current = api.current.connectWebSocket((alert) => {
                        setAlerts(prev => [alert, ...prev].slice(0, 50));
                        
                        // Show notification for critical alerts
                        if (alert.severity === 'CRITICAL') {
                            showNotification(alert);
                        }
                    });
                }
            }, [isAuthenticated]);

            // Load initial data
            useEffect(() => {
                if (isAuthenticated) {
                    loadDashboardData();
                }
            }, [isAuthenticated]);

            const loadDashboardData = async () => {
                setLoading(true);
                try {
                    const [eldersData, devicesData, alertsData, analyticsData] = await Promise.all([
                        api.current.getElders(),
                        api.current.getDevices(),
                        api.current.getAlerts({ resolved: false }),
                        api.current.getAnalytics('30d')
                    ]);
                    
                    setElders(eldersData);
                    setDevices(devicesData);
                    setAlerts(alertsData);
                    setAnalytics(analyticsData);
                } catch (error) {
                    console.error('Failed to load dashboard data:', error);
                } finally {
                    setLoading(false);
                }
            };

            const showNotification = (alert) => {
                if ('Notification' in window && Notification.permission === 'granted') {
                    new Notification('Critical Alert', {
                        body: `${alert.elderName}: ${alert.type}`,
                        icon: '/favicon.ico'
                    });
                }
            };

            // Request notification permission
            useEffect(() => {
                if ('Notification' in window && Notification.permission !== 'granted') {
                    Notification.requestPermission();
                }
            }, []);

            // Authentication Component
            const LoginForm = () => {
                const [email, setEmail] = useState('');
                const [password, setPassword] = useState('');
                const [mfaCode, setMfaCode] = useState('');
                const [error, setError] = useState('');

                const handleLogin = async (e) => {
                    e.preventDefault();
                    setError('');
                    
                    try {
                        const result = await api.current.authenticate(email, password, mfaCode || null);
                        
                        if (result.requiresMFA) {
                            setRequiresMFA(true);
                            setSessionId(result.sessionId);
                        } else {
                            localStorage.setItem('token', result.token);
                            setUser(result.user);
                            setIsAuthenticated(true);
                        }
                    } catch (err) {
                        setError(err.message);
                    }
                };

                return (
                    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 to-purple-700">
                        <div className="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md">
                            <div className="text-center mb-8">
                                <div className="w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mx-auto mb-4 flex items-center justify-center">
                                    <Icon name="heart" className="w-10 h-10 text-white" />
                                </div>
                                <h1 className="text-3xl font-bold text-gray-800">ElderCare AI</h1>
                                <p className="text-gray-600 mt-2">Enterprise Healthcare Platform</p>
                            </div>

                            <form onSubmit={handleLogin} className="space-y-4">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                    <input
                                        type="email"
                                        value={email}
                                        onChange={(e) => setEmail(e.target.value)}
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                        placeholder="admin@eldercare.com"
                                        required
                                    />
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">Password</label>
                                    <input
                                        type="password"
                                        value={password}
                                        onChange={(e) => setPassword(e.target.value)}
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                        placeholder="demo123"
                                        required
                                    />
                                </div>

                                {requiresMFA && (
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">MFA Code</label>
                                        <input
                                            type="text"
                                            value={mfaCode}
                                            onChange={(e) => setMfaCode(e.target.value)}
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                            placeholder="123456"
                                            maxLength="6"
                                            required
                                        />
                                        <p className="text-xs text-gray-500 mt-1">Enter the 6-digit code from your authenticator app</p>
                                    </div>
                                )}

                                {error && (
                                    <div className="bg-red-50 text-red-600 p-3 rounded-lg text-sm">
                                        {error}
                                    </div>
                                )}

                                <button
                                    type="submit"
                                    className="w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-colors"
                                >
                                    {requiresMFA ? 'Verify MFA' : 'Sign In'}
                                </button>

                                <div className="text-center mt-4">
                                    <p className="text-sm text-gray-600">
                                        Demo credentials: admin@eldercare.com / demo123
                                        {requiresMFA && ' / MFA: 123456'}
                                    </p>
                                </div>
                            </form>
                        </div>
                    </div>
                );
            };

            // Main Dashboard Component
            const Dashboard = () => {
                const [selectedElder, setSelectedElder] = useState(null);
                const [showReportModal, setShowReportModal] = useState(false);
                const [report, setReport] = useState(null);
                const [predictionResults, setPredictionResults] = useState(null);

                // ML Prediction Demo
                const runFallPrediction = async (elderId) => {
                    const elder = elders.find(e => e.id === elderId);
                    
                    // Simulate sensor data
                    const sensorData = [
                        Math.random(), // Accelerometer X
                        Math.random(), // Accelerometer Y
                        Math.random(), // Accelerometer Z
                        Math.random(), // Gyroscope X
                        Math.random(), // Gyroscope Y
                        Math.random(), // Gyroscope Z
                        elder.age / 100, // Normalized age
                        Math.random(), // Activity level
                        Math.random(), // Gait pattern
                        Math.random()  // Balance score
                    ];
                    
                    const fallRisk = await api.current.predictFallRisk(sensorData);
                    
                    // Check for vital sign anomalies
                    const vitalData = [
                        elder.vitals.heartRate / 100,
                        parseInt(elder.vitals.bloodPressure.split('/')[0]) / 200,
                        parseInt(elder.vitals.bloodPressure.split('/')[1]) / 150,
                        elder.vitals.glucose / 200,
                        elder.vitals.temperature / 110,
                        elder.vitals.oxygenSaturation / 100,
                        Math.random(), // Activity variance
                        Math.random()  // Sleep quality
                    ];
                    
                    const hasAnomaly = await api.current.detectAnomalies(vitalData);
                    
                    setPredictionResults({
                        elderId,
                        elderName: elder.name,
                        fallRisk: (fallRisk * 100).toFixed(1),
                        anomalyDetected: hasAnomaly,
                        timestamp: new Date().toLocaleString()
                    });
                };

                // Generate AI Report
                const generateAIReport = async (elderId) => {
                    setLoading(true);
                    try {
                        const reportData = await api.current.generateClinicalReport(elderId);
                        setReport(reportData);
                        setShowReportModal(true);
                    } catch (error) {
                        console.error('Failed to generate report:', error);
                    } finally {
                        setLoading(false);
                    }
                };

                // Handle Alert Resolution
                const handleResolveAlert = async (alertId) => {
                    try {
                        await api.current.resolveAlert(alertId);
                        setAlerts(prev => prev.map(a => 
                            a.id === alertId ? { ...a, resolved: true } : a
                        ));
                        
                        // Send notification to relevant parties
                        await api.current.sendSendGridEmail(
                            'caregiver@eldercare.com',
                            'Alert Resolved',
                            `Alert ${alertId} has been resolved.`
                        );
                    } catch (error) {
                        console.error('Failed to resolve alert:', error);
                    }
                };

                // Dashboard Stats
                const stats = [
                    {
                        title: 'Total Elders',
                        value: elders.length,
                        icon: 'users',
                        color: 'blue',
                        trend: '+5%'
                    },
                    {
                        title: 'Active Alerts',
                        value: alerts.filter(a => !a.resolved).length,
                        icon: 'alert-triangle',
                        color: 'red',
                        trend: alerts.length > 0 ? '-12%' : '0%'
                    },
                    {
                        title: 'Devices Online',
                        value: devices.filter(d => d.status === 'ONLINE').length + '/' + devices.length,
                        icon: 'wifi',
                        color: 'green',
                        trend: '+3%'
                    },
                    {
                        title: 'Avg Adherence',
                        value: analytics ? (analytics.medicationAdherence * 100).toFixed(0) + '%' : '0%',
                        icon: 'pill',
                        color: 'purple',
                        trend: '+2%'
                    }
                ];

                return (
                    <div className="min-h-screen bg-gray-50">
                        {/* Header */}
                        <header className="bg-white shadow-sm border-b border-gray-200">
                            <div className="px-6 py-4 flex items-center justify-between">
                                <div className="flex items-center space-x-4">
                                    <div className="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center">
                                        <Icon name="heart" className="w-6 h-6 text-white" />
                                    </div>
                                    <div>
                                        <h1 className="text-xl font-bold text-gray-800">ElderCare AI</h1>
                                        <p className="text-xs text-gray-500">Enterprise Platform v2.0</p>
                                    </div>
                                </div>

                                <div className="flex items-center space-x-4">
                                    <button className="relative p-2 hover:bg-gray-100 rounded-lg">
                                        <Icon name="bell" className="w-5 h-5 text-gray-600" />
                                        {alerts.filter(a => !a.resolved).length > 0 && (
                                            <span className="absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full pulse"></span>
                                        )}
                                    </button>
                                    
                                    <div className="flex items-center space-x-2">
                                        <div className="w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full"></div>
                                        <div>
                                            <p className="text-sm font-medium text-gray-700">{user?.email}</p>
                                            <p className="text-xs text-gray-500">{user?.role}</p>
                                        </div>
                                    </div>

                                    <button
                                        onClick={() => {
                                            localStorage.removeItem('token');
                                            setIsAuthenticated(false);
                                            setUser(null);
                                        }}
                                        className="text-sm text-gray-600 hover:text-gray-800"
                                    >
                                        Logout
                                    </button>
                                </div>
                            </div>
                        </header>

                        <div className="flex">
                            {/* Sidebar */}
                            <aside className="w-64 bg-white h-screen border-r border-gray-200">
                                <nav className="p-4 space-y-1">
                                    {[
                                        { id: 'dashboard', label: 'Dashboard', icon: 'layout-dashboard' },
                                        { id: 'elders', label: 'Elder Management', icon: 'users' },
                                        { id: 'devices', label: 'Devices', icon: 'smartphone' },
                                        { id: 'alerts', label: 'Alerts', icon: 'alert-triangle' },
                                        { id: 'analytics', label: 'Analytics', icon: 'bar-chart-3' },
                                        { id: 'ml', label: 'AI/ML Insights', icon: 'brain' },
                                        { id: 'compliance', label: 'Compliance', icon: 'shield-check' }
                                    ].map(item => (
                                        <button
                                            key={item.id}
                                            onClick={() => setCurrentView(item.id)}
                                            className={`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${
                                                currentView === item.id
                                                    ? 'bg-blue-50 text-blue-600'
                                                    : 'hover:bg-gray-100 text-gray-700'
                                            }`}
                                        >
                                            <Icon name={item.icon} className="w-5 h-5" />
                                            <span className="text-sm font-medium">{item.label}</span>
                                        </button>
                                    ))}
                                </nav>
                            </aside>

                            {/* Main Content */}
                            <main className="flex-1 p-6">
                                {loading && (
                                    <div className="flex items-center justify-center h-64">
                                        <div className="text-center">
                                            <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"></div>
                                            <p className="mt-4 text-gray-600">Loading...</p>
                                        </div>
                                    </div>
                                )}

                                {!loading && currentView === 'dashboard' && (
                                    <div className="space-y-6">
                                        {/* Stats Grid */}
                                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                            {stats.map((stat, idx) => (
                                                <div key={idx} className="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                                                    <div className="flex items-center justify-between mb-4">
                                                        <div className={`p-3 rounded-lg bg-${stat.color}-100`}>
                                                            <Icon name={stat.icon} className={`w-6 h-6 text-${stat.color}-600`} />
                                                        </div>
                                                        <span className={`text-sm font-medium ${
                                                            stat.trend.startsWith('+') ? 'text-green-600' : 'text-red-600'
                                                        }`}>
                                                            {stat.trend}
                                                        </span>
                                                    </div>
                                                    <h3 className="text-2xl font-bold text-gray-800">{stat.value}</h3>
                                                    <p className="text-sm text-gray-600 mt-1">{stat.title}</p>
                                                </div>
                                            ))}
                                        </div>

                                        {/* Charts */}
                                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                            <div className="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                                                <h3 className="text-lg font-semibold mb-4">Alert Trends</h3>
                                                <ResponsiveContainer width="100%" height={250}>
                                                    <LineChart data={analytics?.monthlyTrends || []}>
                                                        <CartesianGrid strokeDasharray="3 3" />
                                                        <XAxis dataKey="month" />
                                                        <YAxis />
                                                        <Tooltip />
                                                        <Line type="monotone" dataKey="alerts" stroke="#ef4444" strokeWidth={2} />
                                                        <Line type="monotone" dataKey="falls" stroke="#f59e0b" strokeWidth={2} />
                                                    </LineChart>
                                                </ResponsiveContainer>
                                            </div>

                                            <div className="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                                                <h3 className="text-lg font-semibold mb-4">Medication Adherence</h3>
                                                <ResponsiveContainer width="100%" height={250}>
                                                    <BarChart data={analytics?.monthlyTrends || []}>
                                                        <CartesianGrid strokeDasharray="3 3" />
                                                        <XAxis dataKey="month" />
                                                        <YAxis />
                                                        <Tooltip />
                                                        <Bar dataKey="adherence" fill="#8b5cf6" />
                                                    </BarChart>
                                                </ResponsiveContainer>
                                            </div>
                                        </div>

                                        {/* Active Alerts */}
                                        <div className="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                                            <h3 className="text-lg font-semibold mb-4">Active Alerts</h3>
                                            <div className="space-y-3">
                                                {alerts.filter(a => !a.resolved).slice(0, 5).map(alert => (
                                                    <div key={alert.id} className={`p-4 rounded-lg border-l-4 ${
                                                        alert.severity === 'CRITICAL' ? 'border-l-red-500 bg-red-50' :
                                                        alert.severity === 'HIGH' ? 'border-l-orange-500 bg-orange-50' :
                                                        'border-l-yellow-500 bg-yellow-50'
                                                    }`}>
                                                        <div className="flex items-center justify-between">
                                                            <div>
                                                                <p className="font-medium">{alert.elderName}</p>
                                                                <p className="text-sm text-gray-600">{alert.type} - {alert.message}</p>
                                                                <p className="text-xs text-gray-500 mt-1">
                                                                    {new Date(alert.timestamp).toLocaleString()}
                                                                </p>
                                                            </div>
                                                            <button
                                                                onClick={() => handleResolveAlert(alert.id)}
                                                                className="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm"
                                                            >
                                                                Resolve
                                                            </button>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {currentView === 'elders' && (
                                    <div className="space-y-6">
                                        <h2 className="text-2xl font-bold">Elder Management</h2>
                                        
                                        <div className="bg-white rounded-xl shadow-sm border border-gray-200">
                                            <div className="overflow-x-auto">
                                                <table className="w-full">
                                                    <thead className="bg-gray-50">
                                                        <tr>
                                                            <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Elder</th>
                                                            <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Age</th>
                                                            <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Fall Risk</th>
                                                            <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Adherence</th>
                                                            <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Vitals</th>
                                                            <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody className="divide-y divide-gray-200">
                                                        {elders.map(elder => (
                                                            <tr key={elder.id}>
                                                                <td className="px-6 py-4">
                                                                    <div>
                                                                        <p className="font-medium">{elder.name}</p>
                                                                        <p className="text-sm text-gray-500">
                                                                            {elder.conditions.join(', ')}
                                                                        </p>
                                                                    </div>
                                                                </td>
                                                                <td className="px-6 py-4">{elder.age}</td>
                                                                <td className="px-6 py-4">
                                                                    <span className={`px-2 py-1 text-xs font-medium rounded-full ${
                                                                        elder.fallRisk > 0.8 ? 'bg-red-100 text-red-700' :
                                                                        elder.fallRisk > 0.5 ? 'bg-yellow-100 text-yellow-700' :
                                                                        'bg-green-100 text-green-700'
                                                                    }`}>
                                                                        {(elder.fallRisk * 100).toFixed(0)}%
                                                                    </span>
                                                                </td>
                                                                <td className="px-6 py-4">
                                                                    {(elder.medicationAdherence * 100).toFixed(0)}%
                                                                </td>
                                                                <td className="px-6 py-4">
                                                                    <div className="text-xs">
                                                                        <p>HR: {elder.vitals.heartRate}</p>
                                                                        <p>BP: {elder.vitals.bloodPressure}</p>
                                                                    </div>
                                                                </td>
                                                                <td className="px-6 py-4">
                                                                    <div className="flex space-x-2">
                                                                        <button
                                                                            onClick={() => runFallPrediction(elder.id)}
                                                                            className="text-blue-600 hover:text-blue-800"
                                                                            title="Run ML Prediction"
                                                                        >
                                                                            <Icon name="brain" className="w-4 h-4" />
                                                                        </button>
                                                                        <button
                                                                            onClick={() => generateAIReport(elder.id)}
                                                                            className="text-green-600 hover:text-green-800"
                                                                            title="Generate AI Report"
                                                                        >
                                                                            <Icon name="file-text" className="w-4 h-4" />
                                                                        </button>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        ))}
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {currentView === 'ml' && (
                                    <div className="space-y-6">
                                        <h2 className="text-2xl font-bold">AI/ML Insights</h2>
                                        
                                        {/* ML Prediction Results */}
                                        {predictionResults && (
                                            <div className="bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl p-6 text-white">
                                                <h3 className="text-lg font-semibold mb-4">Latest Prediction Results</h3>
                                                <div className="grid grid-cols-2 gap-4">
                                                    <div>
                                                        <p className="text-purple-100">Patient</p>
                                                        <p className="text-2xl font-bold">{predictionResults.elderName}</p>
                                                    </div>
                                                    <div>
                                                        <p className="text-purple-100">Fall Risk Score</p>
                                                        <p className="text-2xl font-bold">{predictionResults.fallRisk}%</p>
                                                    </div>
                                                    <div>
                                                        <p className="text-purple-100">Anomaly Detection</p>
                                                        <p className="text-2xl font-bold">
                                                            {predictionResults.anomalyDetected ? 'DETECTED' : 'Normal'}
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <p className="text-purple-100">Timestamp</p>
                                                        <p className="text-sm">{predictionResults.timestamp}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        )}

                                        {/* Model Performance */}
                                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                            <div className="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                                                <h3 className="text-lg font-semibold mb-4">Fall Detection Model</h3>
                                                <div className="space-y-3">
                                                    <div className="flex justify-between">
                                                        <span className="text-gray-600">Accuracy</span>
                                                        <span className="font-medium">94.2%</span>
                                                    </div>
                                                    <div className="flex justify-between">
                                                        <span className="text-gray-600">Precision</span>
                                                        <span className="font-medium">92.8%</span>
                                                    </div>
                                                    <div className="flex justify-between">
                                                        <span className="text-gray-600">Recall</span>
                                                        <span className="font-medium">95.6%</span>
                                                    </div>
                                                    <div className="flex justify-between">
                                                        <span className="text-gray-600">F1 Score</span>
                                                        <span className="font-medium">94.2%</span>
                                                    </div>
                                                    <div className="mt-4 pt-4 border-t">
                                                        <p className="text-sm text-gray-500">Last trained: 2 hours ago</p>
                                                        <p className="text-sm text-gray-500">Training samples: 50,432</p>
                                                    </div>
                                                </div>
                                            </div>

                                            <div className="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                                                <h3 className="text-lg font-semibold mb-4">Anomaly Detection Model</h3>
                                                <div className="space-y-3">
                                                    <div className="flex justify-between">
                                                        <span className="text-gray-600">True Positive Rate</span>
                                                        <span className="font-medium">89.3%</span>
                                                    </div>
                                                    <div className="flex justify-between">
                                                        <span className="text-gray-600">False Positive Rate</span>
                                                        <span className="font-medium">3.2%</span>
                                                    </div>
                                                    <div className="flex justify-between">
                                                        <span className="text-gray-600">AUC-ROC</span>
                                                        <span className="font-medium">0.976</span>
                                                    </div>
                                                    <div className="flex justify-between">
                                                        <span className="text-gray-600">Threshold</span>
                                                        <span className="font-medium">0.85</span>
                                                    </div>
                                                    <div className="mt-4 pt-4 border-t">
                                                        <p className="text-sm text-gray-500">Model type: Autoencoder</p>
                                                        <p className="text-sm text-gray-500">Features: 8 vital signs</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        {/* Training Pipeline */}
                                        <div className="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                                            <h3 className="text-lg font-semibold mb-4">ML Pipeline Status</h3>
                                            <div className="space-y-4">
                                                <div className="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                                                    <div className="flex items-center space-x-3">
                                                        <Icon name="check-circle" className="w-5 h-5 text-green-600" />
                                                        <div>
                                                            <p className="font-medium">Data Collection</p>
                                                            <p className="text-sm text-gray-600">Collecting sensor data from 162 devices</p>
                                                        </div>
                                                    </div>
                                                    <span className="text-sm text-green-600">Active</span>
                                                </div>
                                                
                                                <div className="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                                                    <div className="flex items-center space-x-3">
                                                        <Icon name="check-circle" className="w-5 h-5 text-green-600" />
                                                        <div>
                                                            <p className="font-medium">Feature Engineering</p>
                                                            <p className="text-sm text-gray-600">Processing 127 features per sample</p>
                                                        </div>
                                                    </div>
                                                    <span className="text-sm text-green-600">Active</span>
                                                </div>

                                                <div className="flex items-center justify-between p-3 bg-blue-50 rounded-lg">
                                                    <div className="flex items-center space-x-3">
                                                        <Icon name="refresh-cw" className="w-5 h-5 text-blue-600 animate-spin" />
                                                        <div>
                                                            <p className="font-medium">Model Training</p>
                                                            <p className="text-sm text-gray-600">Next scheduled training in 4 hours</p>
                                                        </div>
                                                    </div>
                                                    <span className="text-sm text-blue-600">Scheduled</span>
                                                </div>

                                                <div className="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                                                    <div className="flex items-center space-x-3">
                                                        <Icon name="check-circle" className="w-5 h-5 text-green-600" />
                                                        <div>
                                                            <p className="font-medium">Model Deployment</p>
                                                            <p className="text-sm text-gray-600">3 models deployed to production</p>
                                                        </div>
                                                    </div>
                                                    <span className="text-sm text-green-600">Deployed</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {currentView === 'compliance' && (
                                    <div className="space-y-6">
                                        <h2 className="text-2xl font-bold">HIPAA Compliance & Security</h2>
                                        
                                        {/* Compliance Status */}
                                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                            <div className="bg-green-50 rounded-xl p-6 border border-green-200">
                                                <Icon name="shield-check" className="w-8 h-8 text-green-600 mb-3" />
                                                <h3 className="font-semibold">HIPAA Compliant</h3>
                                                <p className="text-sm text-gray-600 mt-1">Last audit: Jan 15, 2025</p>
                                            </div>
                                            <div className="bg-blue-50 rounded-xl p-6 border border-blue-200">
                                                <Icon name="lock" className="w-8 h-8 text-blue-600 mb-3" />
                                                <h3 className="font-semibold">Encryption Active</h3>
                                                <p className="text-sm text-gray-600 mt-1">AES-256 at rest & TLS 1.3</p>
                                            </div>
                                            <div className="bg-purple-50 rounded-xl p-6 border border-purple-200">
                                                <Icon name="file-check" className="w-8 h-8 text-purple-600 mb-3" />
                                                <h3 className="font-semibold">BAA Signed</h3>
                                                <p className="text-sm text-gray-600 mt-1">12 active agreements</p>
                                            </div>
                                        </div>

                                        {/* Audit Logs */}
                                        <div className="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                                            <h3 className="text-lg font-semibold mb-4">Recent Audit Logs</h3>
                                            <div className="overflow-x-auto">
                                                <table className="w-full">
                                                    <thead className="bg-gray-50">
                                                        <tr>
                                                            <th className="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Action</th>
                                                            <th className="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">User</th>
                                                            <th className="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Target</th>
                                                            <th className="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Timestamp</th>
                                                            <th className="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">IP Address</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody className="divide-y divide-gray-200">
                                                        <tr>
                                                            <td className="px-4 py-2 text-sm">LOGIN</td>
                                                            <td className="px-4 py-2 text-sm">admin@eldercare.com</td>
                                                            <td className="px-4 py-2 text-sm">-</td>
                                                            <td className="px-4 py-2 text-sm">{new Date().toLocaleString()}</td>
                                                            <td className="px-4 py-2 text-sm">192.168.1.1</td>
                                                        </tr>
                                                        <tr>
                                                            <td className="px-4 py-2 text-sm">UPDATE_ELDER</td>
                                                            <td className="px-4 py-2 text-sm">caregiver@eldercare.com</td>
                                                            <td className="px-4 py-2 text-sm">Elder e1</td>
                                                            <td className="px-4 py-2 text-sm">{new Date(Date.now() - 3600000).toLocaleString()}</td>
                                                            <td className="px-4 py-2 text-sm">192.168.1.2</td>
                                                        </tr>
                                                        <tr>
                                                            <td className="px-4 py-2 text-sm">RESOLVE_ALERT</td>
                                                            <td className="px-4 py-2 text-sm">clinician@eldercare.com</td>
                                                            <td className="px-4 py-2 text-sm">Alert a123</td>
                                                            <td className="px-4 py-2 text-sm">{new Date(Date.now() - 7200000).toLocaleString()}</td>
                                                            <td className="px-4 py-2 text-sm">192.168.1.3</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                        {/* Security Settings */}
                                        <div className="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                                            <h3 className="text-lg font-semibold mb-4">Security Configuration</h3>
                                            <div className="space-y-4">
                                                <div className="flex items-center justify-between">
                                                    <div>
                                                        <p className="font-medium">Two-Factor Authentication</p>
                                                        <p className="text-sm text-gray-600">Require 2FA for all admin accounts</p>
                                                    </div>
                                                    <label className="relative inline-flex items-center cursor-pointer">
                                                        <input type="checkbox" className="sr-only peer" defaultChecked />
                                                        <div className="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                                    </label>
                                                </div>
                                                <div className="flex items-center justify-between">
                                                    <div>
                                                        <p className="font-medium">Session Timeout</p>
                                                        <p className="text-sm text-gray-600">Auto-logout after 30 minutes of inactivity</p>
                                                    </div>
                                                    <label className="relative inline-flex items-center cursor-pointer">
                                                        <input type="checkbox" className="sr-only peer" defaultChecked />
                                                        <div className="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                                    </label>
                                                </div>
                                                <div className="flex items-center justify-between">
                                                    <div>
                                                        <p className="font-medium">Data Encryption</p>
                                                        <p className="text-sm text-gray-600">Encrypt all PHI at rest and in transit</p>
                                                    </div>
                                                    <label className="relative inline-flex items-center cursor-pointer">
                                                        <input type="checkbox" className="sr-only peer" defaultChecked />
                                                        <div className="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </main>
                        </div>

                        {/* Report Modal */}
                        {showReportModal && report && (
                            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                                <div className="bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto">
                                    <div className="flex items-center justify-between mb-4">
                                        <h3 className="text-lg font-semibold">AI-Generated Clinical Report</h3>
                                        <button
                                            onClick={() => setShowReportModal(false)}
                                            className="p-2 hover:bg-gray-100 rounded-lg"
                                        >
                                            <Icon name="x" className="w-5 h-5" />
                                        </button>
                                    </div>
                                    
                                    <div className="space-y-4">
                                        <div>
                                            <p className="text-sm text-gray-600">Patient</p>
                                            <p className="font-medium">{report.elderName}</p>
                                        </div>
                                        
                                        <div>
                                            <p className="text-sm text-gray-600">Summary</p>
                                            <p>{report.content.summary}</p>
                                        </div>
                                        
                                        <div>
                                            <p className="text-sm text-gray-600">Vital Signs</p>
                                            <p>{report.content.vitals}</p>
                                        </div>
                                        
                                        <div>
                                            <p className="text-sm text-gray-600">Medication Compliance</p>
                                            <p>{report.content.medications}</p>
                                        </div>
                                        
                                        <div>
                                            <p className="text-sm text-gray-600">Risk Assessment</p>
                                            <p>{report.content.alerts}</p>
                                        </div>
                                        
                                        <div>
                                            <p className="text-sm text-gray-600">Recommendations</p>
                                            <div className="space-y-1">
                                                {report.content.recommendations.map((rec, idx) => (
                                                    <p key={idx} className="text-sm">{rec}</p>
                                                ))}
                                            </div>
                                        </div>
                                        
                                        <div className="flex space-x-3 pt-4 border-t">
                                            <button className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                                                Export as PDF
                                            </button>
                                            <button className="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                                                Send to Clinician
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                );
            };

            // Main App Render
            return isAuthenticated ? <Dashboard /> : <LoginForm />;
        };

        // Initialize and render the application
        ReactDOM.render(<ElderCareApp />, document.getElementById('root'));

        // Log system initialization
        console.log(`
╔════════════════════════════════════════════════════════════════╗
║                     ElderCare AI Platform                      ║
║                        Version 2.0.0                           ║
║                                                                ║
║  ✓ Backend API Initialized                                     ║
║  ✓ Machine Learning Models Loaded                              ║
║  ✓ WebSocket Connection Ready                                  ║
║  ✓ Security & Compliance Active                                ║
║  ✓ Third-party Integrations Connected                          ║
║                                                                ║
║  Demo Credentials:                                             ║
║  Email: admin@eldercare.com                                    ║
║  Password: demo123                                             ║
║  MFA Code: 123456                                              ║
║                                                                ║
║  Architecture:                                                 ║
║  - Frontend: React 18 + TypeScript                             ║
║  - Backend: NestJS Pattern (Simulated)                         ║
║  - Database: PostgreSQL/Prisma (In-Memory)                     ║
║  - ML: TensorFlow.js                                           ║
║  - Real-time: WebSocket (Simulated)                            ║
║  - Security: JWT + 2FA + Encryption                            ║
║                                                                ║
╚════════════════════════════════════════════════════════════════╝
        `);
    </script>
</body>
</html>